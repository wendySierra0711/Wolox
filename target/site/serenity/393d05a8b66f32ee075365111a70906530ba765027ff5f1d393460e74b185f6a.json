{"name":"Consult list purchased albums rol regular","id":"consult-list-purchased-albums;consult-list-purchased-albums-rol-regular","testSteps":[{"number":1,"description":"Given the login in the application with regular role","duration":635,"startTime":"2021-03-15T21:23:19.736-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":2,"description":"Regular login to","duration":631,"startTime":"2021-03-15T21:23:19.739-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":3,"description":"regular executes a POST on the resource /users/sessions","duration":628,"startTime":"2021-03-15T21:23:19.741-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":4,"description":"POST https://nodejs-qa-training.herokuapp.com/users/sessions\r\r","duration":1,"startTime":"2021-03-15T21:23:20.368-05:00[America/Bogota]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://nodejs-qa-training.herokuapp.com/users/sessions\r\r","content":"{\n    \"email\": \"regular@wolox.com.ar\",\n    \"password\": \"candidatoWolox2020\"\n}\r","contentType":"application/json","requestHeaders":"Accept\u003d*/*\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r\r","requestCookies":"\r\r","responseHeaders":"Server: Cowboy\nConnection: keep-alive\nX-Powered-By: Express\nAuthorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjE0Nywicm9sZSI6InJlZ3VsYXIiLCJpYXQiOjE2MTU4NjE0MDEuMTA2LCJleHAiOjE2MTU4NjMyMDEuMTA2fQ.KTG71WjzqKmCMlATgBztGEK5c2ivh8ZCMDoFgt35af4\nContent-Type: application/json; charset\u003dutf-8\nContent-Length: 51\nEtag: W/\"33-VU5kfjwe2NDd2qfE6KWInQUPsY4\"\nDate: Tue, 16 Mar 2021 02:23:21 GMT\nVia: 1.1 vegur\r","responseCookies":"\r","responseBody":"{\n    \"user_id\": 147,\n    \"token_expires_at\": \"1615863201.106\"\n}","statusCode":200},"precondition":false}]}]}]},{"number":5,"description":"When consult list purchased albums of the customer with id 498","duration":502,"startTime":"2021-03-15T21:23:20.371-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":6,"description":"Regular consult purchased","duration":499,"startTime":"2021-03-15T21:23:20.373-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":7,"description":"regular executes a GET on the resource /users/{idUser}/albums","duration":496,"startTime":"2021-03-15T21:23:20.375-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":8,"description":"GET https://nodejs-qa-training.herokuapp.com/users/498/albums\r\r","duration":0,"startTime":"2021-03-15T21:23:20.871-05:00[America/Bogota]","result":"SUCCESS","restQuery":{"method":"GET","path":"https://nodejs-qa-training.herokuapp.com/users/498/albums\r\r","content":"\r","contentType":"application/json","requestHeaders":"Authorization\u003deyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjE0Nywicm9sZSI6InJlZ3VsYXIiLCJpYXQiOjE2MTU4NjE0MDEuMTA2LCJleHAiOjE2MTU4NjMyMDEuMTA2fQ.KTG71WjzqKmCMlATgBztGEK5c2ivh8ZCMDoFgt35af4\r\n\t\t\t\tAccept\u003d*/*\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r\r","requestCookies":"\r\r","responseHeaders":"Server: Cowboy\nConnection: keep-alive\nX-Powered-By: Express\nContent-Type: application/json; charset\u003dutf-8\nContent-Length: 139\nEtag: W/\"8b-9glq7My3G/+o29bI7w61WZjmMaE\"\nDate: Tue, 16 Mar 2021 02:23:21 GMT\nVia: 1.1 vegur\r","responseCookies":"\r","responseBody":"{\n    \"errors\": [\n        {\n            \"code\": \"forbidden_error\",\n            \"message\": \"Not authorized. You may only see your own albums\"\n        }\n    ],\n    \"timestamp\": \"2021-03-16T02:23:21.600Z\"\n}","statusCode":403},"precondition":false}]}]}]},{"number":9,"description":"Then the user validates that he does not have permissions for the information","duration":1,"startTime":"2021-03-15T21:23:20.873-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":10,"description":"Then verify response code should be (403)","duration":0,"startTime":"2021-03-15T21:23:20.874-05:00[America/Bogota]","result":"SUCCESS","precondition":false}]}],"userStory":{"id":"consult-list-purchased-albums","storyName":"Consult list purchased albums","path":"src/test/resources/features/list_purchased_albums.feature","narrative":"  As a user of the Nanofy application\n  I want to consult the list purchased albums\n  So verify the buy","type":"feature"},"featureTag":{"name":"Features/Consult list purchased albums","type":"feature"},"title":"Consult list purchased albums rol regular","tags":[{"name":"Consult list purchased albums","type":"feature"}],"startTime":"2021-03-15T21:23:19.734-05:00[America/Bogota]","duration":1141,"projectKey":"","manual":false,"testSource":"Cucumber","actors":[{"name":"regular","can":["browse the web with FIREFOX","call an API at https://nodejs-qa-training.herokuapp.com"]}],"result":"SUCCESS"}