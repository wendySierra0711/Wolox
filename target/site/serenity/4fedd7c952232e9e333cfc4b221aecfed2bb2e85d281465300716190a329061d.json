{"name":"Buy album other data validations","id":"buy-album;buy-album-other-data-validations","testSteps":[{"number":1,"description":"Example #1: {rol\u003dadministrator, id\u003d1}","duration":1158,"startTime":"2021-03-15T21:22:05.564-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":2,"description":"Given the login in the application with administrator role","duration":613,"startTime":"2021-03-15T21:22:05.565-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":3,"description":"Administrator login to","duration":609,"startTime":"2021-03-15T21:22:05.569-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":4,"description":"administrator executes a POST on the resource /users/sessions","duration":606,"startTime":"2021-03-15T21:22:05.571-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":5,"description":"POST https://nodejs-qa-training.herokuapp.com/users/sessions\r\r","duration":1,"startTime":"2021-03-15T21:22:06.176-05:00[America/Bogota]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://nodejs-qa-training.herokuapp.com/users/sessions\r\r","content":"{\n    \"email\": \"admin@wolox.com.ar\",\n    \"password\": \"candidatoWolox2020\"\n}\r","contentType":"application/json","requestHeaders":"Accept\u003d*/*\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r\r","requestCookies":"\r\r","responseHeaders":"Server: Cowboy\nConnection: keep-alive\nX-Powered-By: Express\nAuthorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjE0Niwicm9sZSI6ImFkbWluIiwiaWF0IjoxNjE1ODYxMzI2LjkxMywiZXhwIjoxNjE1ODYzMTI2LjkxM30.IHL_zr-j_dKT9Ovoojp3EEUvGJyJp67RO7CCl7vRku8\nContent-Type: application/json; charset\u003dutf-8\nContent-Length: 51\nEtag: W/\"33-S5Fr66FK10gvXSFhzRbH27khX0E\"\nDate: Tue, 16 Mar 2021 02:22:06 GMT\nVia: 1.1 vegur\r","responseCookies":"\r","responseBody":"{\n    \"user_id\": 146,\n    \"token_expires_at\": \"1615863126.913\"\n}","statusCode":200},"precondition":false}]}]}]},{"number":6,"description":"When the user buy album with 1","duration":543,"startTime":"2021-03-15T21:22:06.178-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":7,"description":"Administrator buy","duration":540,"startTime":"2021-03-15T21:22:06.181-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":8,"description":"administrator executes a POST on the resource /albums/{idAlbum}","duration":537,"startTime":"2021-03-15T21:22:06.183-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":9,"description":"POST https://nodejs-qa-training.herokuapp.com/albums/1\r\r","duration":0,"startTime":"2021-03-15T21:22:06.720-05:00[America/Bogota]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://nodejs-qa-training.herokuapp.com/albums/1\r\r","content":"\r","contentType":"application/json","requestHeaders":"Authorization\u003deyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjE0Niwicm9sZSI6ImFkbWluIiwiaWF0IjoxNjE1ODYxMzI2LjkxMywiZXhwIjoxNjE1ODYzMTI2LjkxM30.IHL_zr-j_dKT9Ovoojp3EEUvGJyJp67RO7CCl7vRku8\r\n\t\t\t\tAccept\u003d*/*\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r\r","requestCookies":"\r\r","responseHeaders":"Server: Cowboy\nConnection: keep-alive\nX-Powered-By: Express\nContent-Type: application/json; charset\u003dutf-8\nContent-Length: 177\nEtag: W/\"b1-KY01CvWusP+0whV0NNa1unuaIDc\"\nDate: Tue, 16 Mar 2021 02:22:07 GMT\nVia: 1.1 vegur\r","responseCookies":"\r","responseBody":"{\n    \"errors\": [\n        {\n            \"code\": \"entity_already_exists\",\n            \"message\": \"Unable to create new album. The resource you are trying to create already exists\"\n        }\n    ],\n    \"timestamp\": \"2021-03-16T02:22:07.454Z\"\n}","statusCode":422},"precondition":false}]}]}]},{"number":10,"description":"Then the user validates that he does not allow to buy the album","duration":1,"startTime":"2021-03-15T21:22:06.721-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":11,"description":"Then verify response code should be (422)","duration":0,"startTime":"2021-03-15T21:22:06.722-05:00[America/Bogota]","result":"SUCCESS","precondition":false}]}]},{"number":12,"description":"Example #2: {rol\u003dadministrator, id\u003d1}","duration":1198,"startTime":"2021-03-15T21:22:06.725-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":13,"description":"Given the login in the application with administrator role","duration":588,"startTime":"2021-03-15T21:22:06.731-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":14,"description":"Administrator login to","duration":581,"startTime":"2021-03-15T21:22:06.738-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":15,"description":"administrator executes a POST on the resource /users/sessions","duration":578,"startTime":"2021-03-15T21:22:06.740-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":16,"description":"POST https://nodejs-qa-training.herokuapp.com/users/sessions\r\r","duration":0,"startTime":"2021-03-15T21:22:07.318-05:00[America/Bogota]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://nodejs-qa-training.herokuapp.com/users/sessions\r\r","content":"{\n    \"email\": \"admin@wolox.com.ar\",\n    \"password\": \"candidatoWolox2020\"\n}\r","contentType":"application/json","requestHeaders":"Accept\u003d*/*\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r\r","requestCookies":"\r\r","responseHeaders":"Server: Cowboy\nConnection: keep-alive\nX-Powered-By: Express\nAuthorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjE0Niwicm9sZSI6ImFkbWluIiwiaWF0IjoxNjE1ODYxMzI4LjA2LCJleHAiOjE2MTU4NjMxMjguMDZ9.qVzbaOfm12QFG3r0UnPaVVTg7QFtzGC57X508Lp5PDM\nContent-Type: application/json; charset\u003dutf-8\nContent-Length: 50\nEtag: W/\"32-db4PCMo1WLMBBq0pWAsiLG48kvw\"\nDate: Tue, 16 Mar 2021 02:22:08 GMT\nVia: 1.1 vegur\r","responseCookies":"\r","responseBody":"{\n    \"user_id\": 146,\n    \"token_expires_at\": \"1615863128.06\"\n}","statusCode":200},"precondition":false}]}]}]},{"number":17,"description":"When the user buy album with 1","duration":601,"startTime":"2021-03-15T21:22:07.320-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":18,"description":"Administrator buy","duration":598,"startTime":"2021-03-15T21:22:07.322-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":19,"description":"administrator executes a POST on the resource /albums/{idAlbum}","duration":595,"startTime":"2021-03-15T21:22:07.324-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":20,"description":"POST https://nodejs-qa-training.herokuapp.com/albums/1\r\r","duration":1,"startTime":"2021-03-15T21:22:07.918-05:00[America/Bogota]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://nodejs-qa-training.herokuapp.com/albums/1\r\r","content":"\r","contentType":"application/json","requestHeaders":"Authorization\u003deyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjE0Niwicm9sZSI6ImFkbWluIiwiaWF0IjoxNjE1ODYxMzI4LjA2LCJleHAiOjE2MTU4NjMxMjguMDZ9.qVzbaOfm12QFG3r0UnPaVVTg7QFtzGC57X508Lp5PDM\r\n\t\t\t\tAccept\u003d*/*\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r\r","requestCookies":"\r\r","responseHeaders":"Server: Cowboy\nConnection: keep-alive\nX-Powered-By: Express\nContent-Type: application/json; charset\u003dutf-8\nContent-Length: 177\nEtag: W/\"b1-S2Wf8d77kC+6OmBYjPdEM7nXyyo\"\nDate: Tue, 16 Mar 2021 02:22:08 GMT\nVia: 1.1 vegur\r","responseCookies":"\r","responseBody":"{\n    \"errors\": [\n        {\n            \"code\": \"entity_already_exists\",\n            \"message\": \"Unable to create new album. The resource you are trying to create already exists\"\n        }\n    ],\n    \"timestamp\": \"2021-03-16T02:22:08.650Z\"\n}","statusCode":422},"precondition":false}]}]}]},{"number":21,"description":"Then the user validates that he does not allow to buy the album","duration":2,"startTime":"2021-03-15T21:22:07.921-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":22,"description":"Then verify response code should be (422)","duration":0,"startTime":"2021-03-15T21:22:07.922-05:00[America/Bogota]","result":"SUCCESS","precondition":false}]}]},{"number":23,"description":"Example #3: {rol\u003dregular, id\u003d2}","duration":1128,"startTime":"2021-03-15T21:22:07.925-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":24,"description":"Given the login in the application with regular role","duration":623,"startTime":"2021-03-15T21:22:07.926-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":25,"description":"Regular login to","duration":619,"startTime":"2021-03-15T21:22:07.929-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":26,"description":"regular executes a POST on the resource /users/sessions","duration":615,"startTime":"2021-03-15T21:22:07.932-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":27,"description":"POST https://nodejs-qa-training.herokuapp.com/users/sessions\r\r","duration":0,"startTime":"2021-03-15T21:22:08.547-05:00[America/Bogota]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://nodejs-qa-training.herokuapp.com/users/sessions\r\r","content":"{\n    \"email\": \"regular@wolox.com.ar\",\n    \"password\": \"candidatoWolox2020\"\n}\r","contentType":"application/json","requestHeaders":"Accept\u003d*/*\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r\r","requestCookies":"\r\r","responseHeaders":"Server: Cowboy\nConnection: keep-alive\nX-Powered-By: Express\nAuthorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjE0Nywicm9sZSI6InJlZ3VsYXIiLCJpYXQiOjE2MTU4NjEzMjkuMjgxLCJleHAiOjE2MTU4NjMxMjkuMjgxfQ.SBJTm1QXGUqWQ_vo8ts0wB2YjChVVobOtZWcqSRiVWw\nContent-Type: application/json; charset\u003dutf-8\nContent-Length: 51\nEtag: W/\"33-i46aXr8GRtQ3wWLL10Cc3958qio\"\nDate: Tue, 16 Mar 2021 02:22:09 GMT\nVia: 1.1 vegur\r","responseCookies":"\r","responseBody":"{\n    \"user_id\": 147,\n    \"token_expires_at\": \"1615863129.281\"\n}","statusCode":200},"precondition":false}]}]}]},{"number":28,"description":"When the user buy album with 2","duration":502,"startTime":"2021-03-15T21:22:08.549-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":29,"description":"Regular buy","duration":499,"startTime":"2021-03-15T21:22:08.552-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":30,"description":"regular executes a POST on the resource /albums/{idAlbum}","duration":497,"startTime":"2021-03-15T21:22:08.553-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":31,"description":"POST https://nodejs-qa-training.herokuapp.com/albums/2\r\r","duration":0,"startTime":"2021-03-15T21:22:09.049-05:00[America/Bogota]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://nodejs-qa-training.herokuapp.com/albums/2\r\r","content":"\r","contentType":"application/json","requestHeaders":"Authorization\u003deyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjE0Nywicm9sZSI6InJlZ3VsYXIiLCJpYXQiOjE2MTU4NjEzMjkuMjgxLCJleHAiOjE2MTU4NjMxMjkuMjgxfQ.SBJTm1QXGUqWQ_vo8ts0wB2YjChVVobOtZWcqSRiVWw\r\n\t\t\t\tAccept\u003d*/*\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r\r","requestCookies":"\r\r","responseHeaders":"Server: Cowboy\nConnection: keep-alive\nX-Powered-By: Express\nContent-Type: application/json; charset\u003dutf-8\nContent-Length: 177\nEtag: W/\"b1-4NBNaEf3rhS67WScUIFY4HhwEe0\"\nDate: Tue, 16 Mar 2021 02:22:09 GMT\nVia: 1.1 vegur\r","responseCookies":"\r","responseBody":"{\n    \"errors\": [\n        {\n            \"code\": \"entity_already_exists\",\n            \"message\": \"Unable to create new album. The resource you are trying to create already exists\"\n        }\n    ],\n    \"timestamp\": \"2021-03-16T02:22:09.791Z\"\n}","statusCode":422},"precondition":false}]}]}]},{"number":32,"description":"Then the user validates that he does not allow to buy the album","duration":2,"startTime":"2021-03-15T21:22:09.051-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":33,"description":"Then verify response code should be (422)","duration":1,"startTime":"2021-03-15T21:22:09.052-05:00[America/Bogota]","result":"SUCCESS","precondition":false}]}]},{"number":34,"description":"Example #4: {rol\u003dregular, id\u003d2}","duration":1143,"startTime":"2021-03-15T21:22:09.055-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":35,"description":"Given the login in the application with regular role","duration":600,"startTime":"2021-03-15T21:22:09.057-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":36,"description":"Regular login to","duration":597,"startTime":"2021-03-15T21:22:09.060-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":37,"description":"regular executes a POST on the resource /users/sessions","duration":593,"startTime":"2021-03-15T21:22:09.062-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":38,"description":"POST https://nodejs-qa-training.herokuapp.com/users/sessions\r\r","duration":0,"startTime":"2021-03-15T21:22:09.655-05:00[America/Bogota]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://nodejs-qa-training.herokuapp.com/users/sessions\r\r","content":"{\n    \"email\": \"regular@wolox.com.ar\",\n    \"password\": \"candidatoWolox2020\"\n}\r","contentType":"application/json","requestHeaders":"Accept\u003d*/*\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r\r","requestCookies":"\r\r","responseHeaders":"Server: Cowboy\nConnection: keep-alive\nX-Powered-By: Express\nAuthorization: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjE0Nywicm9sZSI6InJlZ3VsYXIiLCJpYXQiOjE2MTU4NjEzMzAuMzk3LCJleHAiOjE2MTU4NjMxMzAuMzk3fQ.4RHh23XNNkuVlk85a9X5Jb5ePULMAfEba93gDVBUUYI\nContent-Type: application/json; charset\u003dutf-8\nContent-Length: 51\nEtag: W/\"33-BP2/o7wLlRyy86xjBd4dEZFQpdE\"\nDate: Tue, 16 Mar 2021 02:22:10 GMT\nVia: 1.1 vegur\r","responseCookies":"\r","responseBody":"{\n    \"user_id\": 147,\n    \"token_expires_at\": \"1615863130.397\"\n}","statusCode":200},"precondition":false}]}]}]},{"number":39,"description":"When the user buy album with 2","duration":539,"startTime":"2021-03-15T21:22:09.657-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":40,"description":"Regular buy","duration":536,"startTime":"2021-03-15T21:22:09.659-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":41,"description":"regular executes a POST on the resource /albums/{idAlbum}","duration":533,"startTime":"2021-03-15T21:22:09.661-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":42,"description":"POST https://nodejs-qa-training.herokuapp.com/albums/2\r\r","duration":0,"startTime":"2021-03-15T21:22:10.194-05:00[America/Bogota]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://nodejs-qa-training.herokuapp.com/albums/2\r\r","content":"\r","contentType":"application/json","requestHeaders":"Authorization\u003deyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjE0Nywicm9sZSI6InJlZ3VsYXIiLCJpYXQiOjE2MTU4NjEzMzAuMzk3LCJleHAiOjE2MTU4NjMxMzAuMzk3fQ.4RHh23XNNkuVlk85a9X5Jb5ePULMAfEba93gDVBUUYI\r\n\t\t\t\tAccept\u003d*/*\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r\r","requestCookies":"\r\r","responseHeaders":"Server: Cowboy\nConnection: keep-alive\nX-Powered-By: Express\nContent-Type: application/json; charset\u003dutf-8\nContent-Length: 177\nEtag: W/\"b1-6MHQzlkSyuSNgYtIQNmNupjQIeM\"\nDate: Tue, 16 Mar 2021 02:22:10 GMT\nVia: 1.1 vegur\r","responseCookies":"\r","responseBody":"{\n    \"errors\": [\n        {\n            \"code\": \"entity_already_exists\",\n            \"message\": \"Unable to create new album. The resource you are trying to create already exists\"\n        }\n    ],\n    \"timestamp\": \"2021-03-16T02:22:10.923Z\"\n}","statusCode":422},"precondition":false}]}]}]},{"number":43,"description":"Then the user validates that he does not allow to buy the album","duration":2,"startTime":"2021-03-15T21:22:10.196-05:00[America/Bogota]","result":"SUCCESS","precondition":false,"children":[{"number":44,"description":"Then verify response code should be (422)","duration":0,"startTime":"2021-03-15T21:22:10.197-05:00[America/Bogota]","result":"SUCCESS","precondition":false}]}]}],"userStory":{"id":"buy-album","storyName":"Buy album","path":"src/test/resources/features/buy_album.feature","narrative":"  As a user of the Naiofy app\n  I want to buy an album\n  So verify the functionality","type":"feature"},"featureTag":{"name":"Features/Buy album","type":"feature"},"title":"Buy album other data validations","tags":[{"name":"Buy album","type":"feature"}],"startTime":"2021-03-15T21:22:05.562-05:00[America/Bogota]","duration":4636,"projectKey":"","dataTable":{"headers":["rol","id"],"rows":[{"values":["administrator","1"],"result":"SUCCESS"},{"values":["administrator","1"],"result":"SUCCESS"},{"values":["regular","2"],"result":"SUCCESS"},{"values":["regular","2"],"result":"SUCCESS"}],"predefinedRows":true,"scenarioOutline":"Given the login in the application with \u003crol\u003e role\n\rWhen the user buy album with \u003cid\u003e\n\rThen the user validates that he does not allow to buy the album\n\r","dataSetDescriptors":[{"startRow":0,"rowCount":0,"name":""}]},"manual":false,"testSource":"Cucumber","actors":[{"name":"administrator","can":["browse the web with FIREFOX","call an API at https://nodejs-qa-training.herokuapp.com"]},{"name":"regular","can":["browse the web with FIREFOX","call an API at https://nodejs-qa-training.herokuapp.com"]}],"result":"SUCCESS","scenarioOutline":"Given the login in the application with \u003crol\u003e role\r\nWhen the user buy album with \u003cid\u003e\r\nThen the user validates that he does not allow to buy the album"}